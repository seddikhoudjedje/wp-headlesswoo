jQuery(document).ready(function(o){function n(e){var t=o("#"+e.data("target"));e.val()===e.data("value")?t.removeClass("form-control-hidden"):t.addClass("form-control-hidden")}function e(){"price"===o('input[name="pys[core][woo_event_value]"]:checked').val()?o(".woo-event-value-option").hide():o(".woo-event-value-option").show()}function t(){"price"===o('input[name="pys[core][edd_event_value]"]:checked').val()?o(".edd-event-value-option").hide():o(".edd-event-value-option").show()}function a(){var e=o("#pys_event_trigger_type").val(),t="#"+e+"_panel";o(".event_triggers_panel").hide(),o(t).show(),"page_visit"===e?o("#url_filter_panel").hide():o("#url_filter_panel").show();var n=o(t),a=n.data("trigger_type");0==o(".event_trigger",n).length-1&&s(n,a)}function s(e,t){var n=o(".event_trigger",e),a=o(n[0]).clone(!0),s=o(n[n.length-1]).data("trigger_id")+1,i="pys[event]["+t+"_triggers]["+s+"]";a.data("trigger_id",s),o("select",a).attr("name",i+"[rule]"),o("input",a).attr("name",i+"[value]"),a.css("display","block"),a.insertBefore(o(".insert-marker",e))}function i(){"page_visit"===o("#pys_event_trigger_type").val()?o(".event-delay").css("visibility","visible"):o(".event-delay").css("visibility","hidden")}function c(){o("#pys_event_facebook_enabled").is(":checked")?o("#facebook_panel").show():o("#facebook_panel").hide()}function r(){"CustomEvent"===o("#pys_event_facebook_event_type").val()?o(".facebook-custom-event-type").css("visibility","visible"):o(".facebook-custom-event-type").css("visibility","hidden")}function _(){o("#pys_event_facebook_params_enabled").is(":checked")?o("#facebook_params_panel").show():o("#facebook_params_panel").hide()}function p(){var e=o("#pys_event_facebook_event_type").val();o("#facebook_params_panel").removeClass().addClass(e)}function l(){"custom"===o("#pys_event_facebook_params_currency").val()?o(".facebook-custom-currency").css("visibility","visible"):o(".facebook-custom-currency").css("visibility","hidden")}function v(){o("#pys_event_pinterest_enabled").is(":checked")?o("#pinterest_panel").show():o("#pinterest_panel").hide()}function d(){"CustomEvent"===o("#pys_event_pinterest_event_type").val()?o(".pinterest-custom-event-type").css("visibility","visible"):o(".pinterest-custom-event-type").css("visibility","hidden")}function u(){o("#pys_event_pinterest_params_enabled").is(":checked")?o("#pinterest_params_panel").show():o("#pinterest_params_panel").hide()}function m(){var e=o("#pys_event_pinterest_event_type").val();o("#pinterest_params_panel").removeClass().addClass(e)}function y(){"custom"===o("#pys_event_pinterest_params_currency").val()?o(".pinterest-custom-currency").css("visibility","visible"):o(".pinterest-custom-currency").css("visibility","hidden")}function g(){o("#pys_event_ga_enabled").is(":checked")?o("#analytics_panel").show():o("#analytics_panel").hide()}function f(){"_custom"===o("#pys_event_ga_event_action").val()?o("#ga-custom-action").css("visibility","visible"):o("#ga-custom-action").css("visibility","hidden")}function h(){o("#pys_event_google_ads_enabled").is(":checked")?o("#google_ads_panel").show():o("#google_ads_panel").hide()}function b(){"_custom"===o("#pys_event_google_ads_event_action").val()?o("#pys_event_google_ads_custom_event_action").css("visibility","visible"):o("#pys_event_google_ads_custom_event_action").css("visibility","hidden")}o(function(){o('[data-toggle="pys-popover"]').popover({container:"#pys",html:!0,content:function(){return o("#pys-"+o(this).data("popover_id")).html()}})}),o(".pys-select2").select2(),o(".pys-tags-select2").select2({tags:!0,tokenSeparators:[","," "]}),o("select.controls-visibility").on("change",function(e){n(o(this))}).each(function(e,t){n(o(t))}),o(".card-collapse").click(function(){var e=o(this).closest(".card").find(".card-body");e.hasClass("show")?e.hide().removeClass("show"):e.show().addClass("show")}),o(".collapse-control .custom-switch-input").change(function(){var e=o(this),t=o("."+e.data("target"));0<t.length&&(e.prop("checked")?t.show():t.hide())}).trigger("change"),e(),o('input[name="pys[core][woo_event_value]"]').change(function(){e()}),t(),o('input[name="pys[core][edd_event_value]"]').change(function(){t()}),o("#pys_select_all_events").change(function(){o(this).prop("checked")?o(".pys-select-event").prop("checked","checked"):o(".pys-select-event").prop("checked",!1)}),i(),a(),o("#pys_event_trigger_type").change(function(){i(),a()}),o(".add-event-trigger").click(function(){var e=o(this).closest(".event_triggers_panel"),t=e.data("trigger_type");s(e,t)}),o(".add-url-filter").click(function(){s(o(this).closest(".event_triggers_panel"),"url_filter")}),o(".remove-row").click(function(e){o(this).closest(".row.event_trigger, .row.facebook-custom-param, .row.pinterest-custom-param, .row.google_ads-custom-param").remove()}),c(),r(),_(),p(),l(),o("#pys_event_facebook_enabled").click(function(){c()}),o("#pys_event_facebook_event_type").change(function(){r(),p()}),o("#pys_event_facebook_params_enabled").click(function(){_()}),o("#pys_event_facebook_params_currency").change(function(){l()}),o(".add-facebook-parameter").click(function(){var e=o("#facebook_params_panel"),t=o(".facebook-custom-param",e),n=o(t[0]).clone(!0),a=o(t[t.length-1]).data("param_id")+1,s="pys[event][facebook_custom_params]["+a+"]";n.data("param_id",a),o("input.custom-param-name",n).attr("name",s+"[name]"),o("input.custom-param-value",n).attr("name",s+"[value]"),n.css("display","flex"),n.insertBefore(o(".insert-marker",e))}),v(),d(),u(),m(),y(),o("#pys_event_pinterest_enabled").click(function(){v()}),o("#pys_event_pinterest_event_type").change(function(){d(),m()}),o("#pys_event_pinterest_params_enabled").click(function(){u()}),o("#pys_event_pinterest_params_currency").change(function(){y()}),o(".add-pinterest-parameter").click(function(){var e=o("#pinterest_params_panel"),t=o(".pinterest-custom-param",e),n=o(t[0]).clone(!0),a=o(t[t.length-1]).data("param_id")+1,s="pys[event][pinterest_custom_params]["+a+"]";n.data("param_id",a),o("input.custom-param-name",n).attr("name",s+"[name]"),o("input.custom-param-value",n).attr("name",s+"[value]"),n.css("display","flex"),n.insertBefore(o(".insert-marker",e))}),g(),f(),o("#pys_event_ga_enabled").click(function(){g()}),o("#pys_event_ga_event_action").change(function(){f()}),h(),b(),o("#pys_event_google_ads_enabled").click(function(){h()}),o("#pys_event_google_ads_event_action").change(function(){b()}),o(".add-google_ads-parameter").click(function(){var e=o("#google_ads_params_panel"),t=o(".google_ads-custom-param",e),n=o(t[0]).clone(!0),a=o(t[t.length-1]).data("param_id")+1,s="pys[event][google_ads_custom_params]["+a+"]";n.data("param_id",a),o("input.custom-param-name",n).attr("name",s+"[name]"),o("input.custom-param-value",n).attr("name",s+"[value]"),n.css("display","flex"),n.insertBefore(o(".insert-marker",e))})});